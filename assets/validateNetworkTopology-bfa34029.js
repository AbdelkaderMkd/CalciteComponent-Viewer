import{a6 as v,a8 as y,a7 as p,a9 as c,ca as S,s as f}from"./index-0f198541.js";async function N(s,t,e){var l;const o=v(s),a=t.toJSON();t.validationSet&&(a.validationSet=JSON.stringify(t.validationSet));const n={...a,returnEdits:!0,f:"json"},r=y({...o.query,...n}),i=p(r,{...e,method:"post"}),m=`${o.path}/validateNetworkTopology`,{data:g}=await c(m,i),d=S.fromJSON(g);return d.serviceEdits=((l=d.serviceEdits)==null?void 0:l.map(u=>({layerId:u.id,editedFeatures:u.editedFeatures})))??[],d}async function b(s,t,e){if(!t.gdbVersion)throw new f("submit-validate-network-topology-job:missing-gdb-version","version is missing");const o=v(s),a=t.toJSON();t.validationSet&&(a.validationSet=JSON.stringify(t.validationSet));const n=p(o.query,{query:y({...a,returnEdits:!0,async:!0,f:"json"}),...e,method:"post"}),r=`${o.path}/validateNetworkTopology`,{data:i}=await c(r,n);return i?i.statusUrl:null}export{b as submitValidateNetworkTopologyJob,N as validateNetworkTopology};
